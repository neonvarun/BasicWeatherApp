<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Weather Forecast - Real-time Weather Updates</title>
    <meta name="description" content="Get accurate real-time weather updates for any city worldwide. Beautiful, modern weather forecasting application.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Compact Single Page Layout -->
    <div class="main-wrapper">
        <!-- Header -->
        <header class="compact-header">
            <div class="header-content">
                <div class="brand">
                    <span class="logo-icon">‚õÖ</span>
                    <span class="brand-name">Weather<span class="highlight">Pro</span></span>
                </div>
                <p class="tagline">Real-time weather updates worldwide</p>
            </div>
        </header>

        <!-- Main Content Grid -->
        <div class="content-grid">
            
            <!-- Weather Card - Main Focus -->
            <div class="weather-card">
                <div class="card-header">
                    <h2>Weather Forecast</h2>
                    <button class="temp-toggle" title="Toggle ¬∞C/¬∞F">
                        <span class="toggle-indicator">¬∞C</span>
                    </button>
                </div>

                <div class="search-bar">
                    <input type="text" placeholder="Search city..." spellcheck="false" class="search-input">
                    <button class="search-btn" title="Search"><img src="images/search.png" alt="Search"></button>
                    <button class="location-btn" title="Current location">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                            <circle cx="12" cy="10" r="3"></circle>
                        </svg>
                    </button>
                </div>

                <div class="error-message">
                    <p>‚ö†Ô∏è Invalid city name</p>
                </div>

                <div class="weather-info">
                    <div class="weather-display">
                        <img src="images/rain.png" class="weather-icon" alt="Weather">
                        <div class="temp-info">
                            <h1 class="temp">22¬∞C</h1>
                            <h3 class="city">London, GB</h3>
                            <p class="description">Clouds</p>
                        </div>
                    </div>

                    <div class="weather-stats">
                        <div class="stat-box">
                            <div class="stat-icon">üíß</div>
                            <div class="stat-data">
                                <span class="stat-value humidity">72%</span>
                                <span class="stat-label">Humidity</span>
                            </div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-icon">üí®</div>
                            <div class="stat-data">
                                <span class="stat-value wind">4 km/h</span>
                                <span class="stat-label">Wind Speed</span>
                            </div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-icon">üå°Ô∏è</div>
                            <div class="stat-data">
                                <span class="stat-value feels-like">20¬∞C</span>
                                <span class="stat-label">Feels Like</span>
                            </div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-icon">üß≠</div>
                            <div class="stat-data">
                                <span class="stat-value pressure">1007 mb</span>
                                <span class="stat-label">Pressure</span>
                            </div>
                        </div>
                    </div>

                    <div class="extra-info">
                        <div class="info-item">
                            <span>üåÖ Sunrise</span>
                            <span class="sunrise">6:30 AM</span>
                        </div>
                        <div class="info-item">
                            <span>üåá Sunset</span>
                            <span class="sunset">6:30 PM</span>
                        </div>
                        <div class="info-item">
                            <span>üëÅÔ∏è Visibility</span>
                            <span class="visibility">10 km</span>
                        </div>
                        <div class="info-item">
                            <span>üí® Wind Chill</span>
                            <span class="wind-chill">18¬∞C</span>
                        </div>
                    </div>

                    <div class="search-history-section">
                        <p class="history-title">Recent</p>
                        <div class="search-history"></div>
                    </div>
                </div>
            </div>

            <!-- Quick Features Sidebar -->
            <div class="features-sidebar">
                <div class="feature-item">
                    <div class="feature-icon">üåç</div>
                    <div class="feature-content">
                        <h4>Global Coverage</h4>
                        <p>200,000+ cities worldwide</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">‚ö°</div>
                    <div class="feature-content">
                        <h4>Real-time Data</h4>
                        <p>Instant weather updates</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">üéØ</div>
                    <div class="feature-content">
                        <h4>Accurate</h4>
                        <p>Reliable forecasts</p>
                    </div>
                </div>
            </div>

        </div>

        <!-- Compact Footer -->
        <footer class="compact-footer">
            <p>¬© 2025 WeatherPro ‚Ä¢ Powered by OpenWeatherMap API</p>
        </footer>
    </div>
    <script>
        const apiKey = "ce0fa35846c5a6e6791439dda93a5675";
        const apiUrl = "https://api.openweathermap.org/data/2.5/weather?units=metric&q=";

        const searchBox = document.querySelector(".search-input");
        const searchBtn = document.querySelector(".search-btn");
        const locationBtn = document.querySelector(".location-btn");
        const tempToggleBtn = document.querySelector(".temp-toggle");
        const weatherIcon = document.querySelector(".weather-icon");
        const errorMessage = document.querySelector(".error-message");
        const weatherInfo = document.querySelector(".weather-info");
        const searchHistory = document.querySelector(".search-history");

        let isCelsius = true;
        let currentWeatherData = null;

        // Temperature conversion
        function convertTemp(celsius) {
            return isCelsius ? celsius : Math.round((celsius * 9/5) + 32);
        }

        function getUnitSymbol() {
            return isCelsius ? "¬∞C" : "¬∞F";
        }

        // Temperature toggle
        tempToggleBtn.addEventListener("click", () => {
            isCelsius = !isCelsius;
            tempToggleBtn.querySelector(".toggle-indicator").textContent = getUnitSymbol();
            if (currentWeatherData) {
                updateWeatherDisplay();
            }
        });

        // Get current location
        locationBtn.addEventListener("click", () => {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        const lat = position.coords.latitude;
                        const lon = position.coords.longitude;
                        fetchWeatherByCoords(lat, lon);
                    },
                    (error) => {
                        errorMessage.innerHTML = "<p>‚ö†Ô∏è Unable to get your location</p>";
                        errorMessage.style.display = "block";
                        setTimeout(() => {
                            errorMessage.style.display = "none";
                        }, 3000);
                        console.error(error);
                    }
                );
            }
        });

        async function fetchWeatherByCoords(lat, lon) {
            try {
                const response = await fetch(
                    `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&appid=${apiKey}`
                );
                if (response.ok) {
                    currentWeatherData = await response.json();
                    updateWeatherDisplay();
                    saveSearch(currentWeatherData.name);
                }
            } catch (error) {
                console.error("Error fetching weather by coordinates:", error);
            }
        }

        async function checkWeather(city) {
            try {
                const response = await fetch(apiUrl + city + `&appid=${apiKey}`);

                if (response.status === 404) {
                    errorMessage.style.display = "block";
                    weatherInfo.style.display = "none";
                    setTimeout(() => {
                        errorMessage.style.display = "none";
                    }, 3000);
                } else if (response.ok) {
                    currentWeatherData = await response.json();
                    updateWeatherDisplay();
                    saveSearch(city);
                }
            } catch (error) {
                console.error("Error fetching weather:", error);
                errorMessage.style.display = "block";
                weatherInfo.style.display = "none";
                setTimeout(() => {
                    errorMessage.style.display = "none";
                }, 3000);
            }
        }

        function updateWeatherDisplay() {
            const data = currentWeatherData;

            document.querySelector(".city").innerHTML = data.name + ", " + data.sys.country;
            document.querySelector(".temp").innerHTML = convertTemp(data.main.temp) + getUnitSymbol();
            document.querySelector(".feels-like").innerHTML = convertTemp(data.main.feels_like) + getUnitSymbol();
            document.querySelector(".humidity").innerHTML = data.main.humidity + "%";
            document.querySelector(".wind").innerHTML = Math.round(data.wind.speed) + " km/h";
            document.querySelector(".pressure").innerHTML = data.main.pressure + " mb";
            document.querySelector(".description").innerHTML = data.weather[0].main;
            document.querySelector(".visibility").innerHTML = (data.visibility / 1000).toFixed(1) + " km";

            // Wind chill calculation
            const windChill = (data.main.feels_like - (data.main.temp - data.main.feels_like)).toFixed(0);
            document.querySelector(".wind-chill").innerHTML = convertTemp(parseInt(windChill)) + getUnitSymbol();

            // Sunrise and Sunset
            const sunrise = new Date(data.sys.sunrise * 1000);
            const sunset = new Date(data.sys.sunset * 1000);
            document.querySelector(".sunrise").innerHTML = sunrise.toLocaleTimeString('en-US', {hour: '2-digit', minute:'2-digit'});
            document.querySelector(".sunset").innerHTML = sunset.toLocaleTimeString('en-US', {hour: '2-digit', minute:'2-digit'});

            // Weather icon
            const weatherMain = data.weather[0].main;
            let iconSrc = "images/rain.png";
            if (weatherMain === "Clouds") {
                iconSrc = "images/clouds.png";
            } else if (weatherMain === "Clear") {
                iconSrc = "images/clear.png";
            } else if (weatherMain === "Rain") {
                iconSrc = "images/rain.png";
            } else if (weatherMain === "Drizzle") {
                iconSrc = "images/drizzle.png";
            } else if (weatherMain === "Mist" || weatherMain === "Fog") {
                iconSrc = "images/mist.png";
            } else if (weatherMain === "Snow") {
                iconSrc = "images/snow.png";
            }
            weatherIcon.src = iconSrc;

            weatherInfo.style.display = "block";
            errorMessage.style.display = "none";
        }

        // Search history
        function saveSearch(city) {
            let searches = JSON.parse(localStorage.getItem("weatherSearches")) || [];
            searches = searches.filter(s => s.toLowerCase() !== city.toLowerCase());
            searches.unshift(city);
            searches = searches.slice(0, 5);
            localStorage.setItem("weatherSearches", JSON.stringify(searches));
            displaySearchHistory();
        }

        function displaySearchHistory() {
            const searches = JSON.parse(localStorage.getItem("weatherSearches")) || [];
            searchHistory.innerHTML = "";
            searches.forEach(city => {
                const tag = document.createElement("span");
                tag.className = "search-tag";
                tag.textContent = city;
                tag.addEventListener("click", () => {
                    checkWeather(city);
                    searchBox.value = city;
                });
                searchHistory.appendChild(tag);
            });
        }

        // Event listeners
        searchBtn.addEventListener("click", () => {
            if (searchBox.value.trim()) {
                checkWeather(searchBox.value);
            }
        });

        searchBox.addEventListener("keypress", (e) => {
            if (e.key === "Enter" && searchBox.value.trim()) {
                checkWeather(searchBox.value);
            }
        });

        // Initial display
        displaySearchHistory();
        checkWeather("London");
    </script>
</body>

</html>



<!-- https://api.openweathermap.org/data/2.5/weather?q=germany&appid=ce0fa35846c5a6e6791439dda93a5675&units=metric -->